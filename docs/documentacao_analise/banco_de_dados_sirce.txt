CREATE TABLE GRUPO_USUARIO (
	ID_GRUPO_USUARIO INTEGER NOT NULL,
	DESCRICAO VARCHAR(50),
	PERMISSAO VARCHAR(50)
);

alter table GRUPO_USUARIO add constraint pk_GRUPO_USUARIO primary key (ID_GRUPO_USUARIO);

INSERT INTO GRUPO_USUARIO(ID_GRUPO_USUARIO, DESCRICAO, PERMISSAO) VALUES();

CREATE TABLE USUARIO (
	ID_USUARIO INTEGER NOT NULL,
	NOME VARCHAR(50),
	LOGIN VARCHAR(20),
	SENHA VARCHAR(20),
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table USUARIO add constraint pk_USUARIO primary key (ID_USUARIO);
alter table USUARIO add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO USUARIO(ID_USUARIO, NOME, LOGIN, SENHA, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE ESPECIALIDADE (
	ID_ESPECIALIDADE INTEGER NOT NULL,
	ID_GRUPO_USUARIO INTEGER NOT NULL,
	TIPO_ESPECIALIDADE VARCHAR(50)
);

alter table ESPECIALIDADE add constraint pk_ESPECIALIDADE primary key (ID_ESPECIALIDADE);
alter table ESPECIALIDADE add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO ESPECIALIDADE(ID_ESPECIALIDADE, ID_GRUPO_USUARIO, TIPO_ESPECIALIDADE, PERMISSAO) VALUES();

CREATE TABLE MEDICO (
	ID_MEDICO INTEGER NOT NULL,
	CRM INTEGER,
	NOME VARCHAR(50),
	ID_ESPECIALIDADE INTEGER NOT NULL,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table MEDICO add constraint pk_MEDICO primary key (ID_MEDICO);
alter table MEDICO add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);
alter table MEDICO add constraint fk_ID_ESPECIALIDADE foreign key (ID_ESPECIALIDADE) references ESPECIALIDADE (ID_ESPECIALIDADE);

INSERT INTO MEDICO(ID_MEDICO, CRM, NOME, ID_ESPECIALIDADE, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE MEDICO_ESPECIALIDADE (
	ID_ESPECIALIDADE INTEGER NOT NULL,
	ID_MEDICO INTEGER NOT NULL
);

alter table MEDICO_ESPECIALIDADE add constraint fk_ID_MEDICO foreign key (ID_MEDICO) references MEDICO (ID_MEDICO);
alter table MEDICO_ESPECIALIDADE add constraint fk_ID_ESPECIALIDADE foreign key (ID_ESPECIALIDADE) references ESPECIALIDADE (ID_ESPECIALIDADE);

INSERT INTO MEDICO_ESPECIALIDADE(ID_ESPECIALIDADE, ID_MEDICO) VALUES();


CREATE TABLE PACIENTE (
	ID_PACIENETE INTEGER NOT NULL,
	NOME VARCHAR(50),
	SEXO VARCHAR(20),
	NACIONALIDADE VARCHAR(20),
	NATURALIDADE VARCHAR(20),
	IDADE INTEGER,
	DATA_NASC DATE TIME,
	TELEFONE INTEGER,
	CELULAR INTEGER,
	CPF INTEGER,
	RG INTEGER,
	NOME_PAI VARCHAR(50),
	NOME_MAE VARCHAR(50),
	ID_ENDERECO INTEGER NOT NULL,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table PACIENTE add constraint pk_ID_PACIENTE primary key (ID_PACIENTE);
alter table PACIENTE add constraint fk_ID_ENDERECO foreign key (ID_ENDERECO) references ENDERECO (ID_ENDERECO);
alter table PACIENTE add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO PACIENTE(ID_PACIENTE, NOME, SEXO, NACIONALIDADE, NATURALIDADE, IDADE, DATA_NASC, TELEFONE, CELULAR, CPF, RG, NOME_PAI, NOME_MAE, ID_ENDERECO, ID_GRUPO_USUARIO) VALUES();


CREATE TABLE ENDERECO (
	ID_ENDERECO INTEGER NOT NULL,
	RUA VARCHAR(50),
	NUMERO INTEGER,
	CIDADE VARCHAR(20),
	ESTADO VARCHAR(10),
	BAIRRO VARCHAR(30),
	CEP INTEGER,
	COMPLEMENTO VARCHAR(60),
	ID_UNIDADE_MEDICA INTEGER NOT NULL,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table ENDERECO add constraint pk_ID_ENDERECO primary key (ID_ENDERECO);
alter table ENDERECO add constraint fk_ID_UNIDADE_MEDICA foreign key (ID_UNIDADE_MEDICA) references UNIDADE_MEDICA (ID_UNIDADE_MEDICA);
alter table ENDERECO add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO ENDERECO(ID_ENDERECO, RUA, NUMERO, CIDADE, ESTADO, BAIRRO, CEP, COMPLEMENTO, ID_UNIDADE_MEDICA, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE UNIDADE_MEDICA (
	ID_UNIDADE_MEDICA INTEGER NOT NULL,
	NOME VARCHAR(60),
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table UNIDADE_MEDICA add constraint pk_ID_UNIDADE_MEDICA primary key (ID_UNIDADE_MEDICA);
alter table UNIDADE_MEDICA add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO UNIDADE_MEDICA(ID_UNIDADE_MEDICA, NOME, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE ESPECIALIDADE_UNIDADE_MEDICA (
	ID_ESPECIALIDADE INTEGER NOT NULL,
	ID_UNIDADE_MEDICA INTEGER NOT NULL
);

alter table ESPECIALIDADE_UNIDADE_MEDICA add constraint fk_ID_ESPECIALIDADE foreign key (ID_ESPECIALIDADE) references ESPECIALIDADE (ID_UNIDADE_MEDICA);
alter table ESPECIALIDADE_UNIDADE_MEDICA add constraint fk_ID_UNIDADE_MEDICA foreign key (ID_UNIDADE_MEDICA) references UNIDADE_MEDICA (ID_UNIDADE_MEDICA);

INSERT INTO ESPECIALIDADE_UNIDADE_MEDICA(ID_ESPECIALIDADE, ID_UNIDADE_MEDICA) VALUES();

CREATE TABLE AGENDA (
	ID_AGENDA INTEGER NOT NULL,
	DATA_HORA DATE TIME,
	ID_UNIDADE_MEDICA INTEGER NOT NULL,
	ID_ESPECIALIDADE INTEGER NOT NULL,
	ID_MEDICO INTEGER NOT NULL,
	ID_PACIENTE INTEGER NOT NULL,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table AGENDA add constraint pk_ID_AGENDA primary key (ID_AGENDA);
alter table AGENDA add constraint fk_ID_UNIDADE_MEDICA foreign key (ID_UNIDADE_MEDICA) references UNIDADE_MEDICA (ID_UNIDADE_MEDICA);
alter table AGENDA add constraint fk_ID_ESPECIALIDADE foreign key (ID_ESPECIALIDADE) references ESPECIALIDADE (ID_ESPECIALIDADE);
alter table AGENDA add constraint fk_ID_MEDICO foreign key (ID_MEDICO) references MEDICO (ID_MEDICO);
alter table AGENDA add constraint fk_ID_PACIENTE foreign key (ID_PACIENTE) references PACIENTE (ID_PACIENTE);
alter table AGENDA add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO AGENDA(ID_AGENDA, DATA_HORA, ID_UNIDADE_MEDICA, ID_ESPECIALIDADE, ID_MEDICO, ID_PACIENTE, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE AGENDA_UNIDADE_MEDICA (
	ID_UNIDADE_MEDICA INTEGER NOT NULL,
	ID_AGENDA INTEGER NOT NULL
);

alter table AGENDA_UNIDADE_MEDICA add constraint fk_ID_UNIDADE_MEDICA foreign key (ID_UNIDADE_MEDICA) references UNIDADE_MEDICA (ID_UNIDADE_MEDICA);
alter table AGENDA_UNIDADE_MEDICA add constraint fk_ID_AGENDA foreign key (ID_AGENDA) references AGENDA (ID_AGENDA);

INSERT INTO AGENDA_UNIDADE_MEDICA(ID_UNIDADE_MEDICA, ID_AGENDA) VALUES();

CREATE TABLE AGENDA_PACIENTE (
	ID_AGENDA INTEGER NOT NULL,
	ID_PACIENTE INTEGER NOT NULL
);

alter table AGENDA_PACIENTE add constraint fk_ID_PACIENTE foreign key (ID_PACIENTE) references PACIENTE (ID_PACIENTE);
alter table AGENDA_PACIENTE add constraint fk_ID_AGENDA foreign key (ID_AGENDA) references AGENDA (ID_AGENDA);

INSERT INTO AGENDA_PACIENTE(ID_AGENDA, ID_PACIENTE) VALUES();

CREATE TABLE CONSULTA (
	ID_CONSULTA INTEGER NOT NULL,
	ID_AGENDA INTEGER NOT NULL,
	ID_HISTORICO_PACIENTE INTEGER NOT NULL,
	DATA_HORA DATE TIME,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table CONSULTA add constraint pk_ID_CONSULTA primary key (ID_CONSULTA);
alter table CONSULTA add constraint fk_ID_AGENDA foreign key (ID_AGENDA) references AGENDA (ID_AGENDA);
alter table CONSULTA add constraint fk_ID_HISTORICO_PACIENTE foreign key (ID_HISTORICO_PACIENTE) references HISTORICO_PACIENTE (ID_HISTORICO_PACIENTE);
alter table CONSULTA add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO CONSULTA(ID_CONSULTA, ID_AGENDA, ID_HISTORICO_PACIENTE, DATA_HORA, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE EXAME (
	ID_EXAME INTEGER NOT NULL,
	TIPO_EXAME VARCHAR(60),
	ID_AGENDA INTEGER NOT NULL,
	ID_HISTORICO_PACIENTE INTEGER NOT NULL,
	DATA_HORA DATE TIME,
	ID_GRUPO_USUARIO INTEGER NOT NULL
);

alter table EXAME add constraint pk_ID_EXAME primary key (ID_EXAME);
alter table EXAME add constraint fk_ID_AGENDA foreign key (ID_AGENDA) references AGENDA (ID_AGENDA);
alter table EXAME add constraint fk_ID_HISTORICO_PACIENTE foreign key (ID_HISTORICO_PACIENTE) references HISTORICO_PACIENTE (ID_HISTORICO_PACIENTE);
alter table EXAME add constraint fk_ID_GRUPO_USUARIO foreign key (ID_GRUPO_USUARIO) references GRUPO_USUARIO (ID_GRUPO_USUARIO);

INSERT INTO EXAME(ID_EXAME, TIPO_EXAME, ID_AGENDA, DATA_HORA, ID_GRUPO_USUARIO) VALUES();

CREATE TABLE HISTORICO_PACIENTE (
	ID_HISTORICO_PACIENTE INTEGER NOT NULL,
	ID_PACIENTE INTEGER NOT NULL,
	CONSULTA VARCHAR(50),
	EXAME VARCHAR(30)
);


alter table HISTORICO_PACIENTE add constraint pk_ID_HISTORICO_PACIENTE primary key (ID_HISTORICO_PACIENTE);	
alter table HISTORICO_PACIENTE add constraint fk_ID_PACIENTE foreign key (ID_PACIENTE) references PACIENTE (ID_PACIENTE);

INSERT INTO HISTORICO_PACIENTE(ID_HISTORICO_PACIENTE, ID_PACIENTE, CONSULTA, EXAME) VALUES();